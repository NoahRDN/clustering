# PC1 (client + rôle temporaire de PC3 : HAProxy DB, web2, mysql2)
# Copiez ce fichier en .env sur PC1 puis ajustez les IP quand vous déplacerez les services vers le vrai PC3.

# Service HTTP de configuration partagé (hébergé sur PC1)
CONFIG_SERVICE_PORT=8088
HAPROXY_WEB_CONFIG_URL=http://config-service/haproxy-web.cfg
HAPROXY_DB_CONFIG_URL=http://config-service/haproxy-db.cfg

# Les serveurs web locaux (web2, web-dashboard) continuent de pointer sur le HAProxy DB local.
DB_PROXY_HOST=haproxy-db
DB_PROXY_PORT=3307

# Publication du serveur web2 pour qu'il soit joignable depuis PC2 (HAProxy web).
WEB2_PUBLISHED_PORT=8082
WEB2_REMOTE_IP=172.20.10.4   # remplacer par l'IP du futur PC3

# mysql1 tourne sur PC2 → on décrit son IP/port pour HAProxy DB & replication.
MYSQL1_REMOTE_IP=172.20.10.2
MYSQL1_PUBLISHED_PORT=33061

# API runtime pour piloter HAProxy à distance
RUNTIME_API_WEB_PORT=9001
RUNTIME_API_DB_PORT=9002
WEB_RUNTIME_API_URL=http://172.20.10.2:9001
WEB_RUNTIME_API_TOKEN=changeme
DB_RUNTIME_API_URL=http://localhost:9002
DB_RUNTIME_API_TOKEN=changeme

# Variables utilisées par replication-init (lancé sur PC1).
MYSQL1_HOST=pc2-mysql1        # correspond à l'entrée extra_hosts pointant vers PC2
MYSQL1_PORT=33061
MYSQL2_HOST=mysql2
MYSQL2_PORT=3306
