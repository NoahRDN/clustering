# PC2 (HAProxy web + web1 + mysql1)
# Copiez ce fichier en .env sur PC2 et adaptez uniquement les IP/ports si le PC3 change.

# Le service de config tourne sur PC1 (172.20.10.4:8088) et expose les fichiers HAProxy.
HAPROXY_WEB_CONFIG_URL=http://172.20.10.4:8088/haproxy-web.cfg
HAPROXY_DB_CONFIG_URL=http://172.20.10.4:8088/haproxy-db.cfg

# Les conteneurs web1/web-dashboard doivent contacter le HAProxy DB hébergé sur PC1 (qui simule PC3).
DB_PROXY_HOST=172.20.10.4   # remplacer par l'IP du vrai PC3 plus tard
DB_PROXY_PORT=3307

# HAProxy web doit connaître l'IP du serveur web2 distant.
WEB2_REMOTE_IP=172.20.10.4

# Publication de mysql1 : port du host -> 3306 du conteneur.
MYSQL1_PUBLISHED_PORT=33061
MYSQL1_REMOTE_IP=172.20.10.2

# API runtime pour piloter HAProxy
RUNTIME_API_WEB_PORT=9001
RUNTIME_API_DB_PORT=9002
WEB_RUNTIME_API_URL=http://172.20.10.2:9001
WEB_RUNTIME_API_TOKEN=changeme
DB_RUNTIME_API_URL=http://172.20.10.4:9002
DB_RUNTIME_API_TOKEN=changeme

# Pas besoin d'exposer mysql2 depuis PC2, mais on garde les variables pour cohérence.
MYSQL1_HOST=mysql1
MYSQL1_PORT=3306
MYSQL2_HOST=mysql2
MYSQL2_PORT=3306
